{% extends 'base.html.twig' %}

{% block title %}QUIZ || RESULTATS{% endblock %}

{% block javascripts %}
<script src="{{ asset('assets/Javascript/animations.js') }}"></script>
{% endblock %}

{% block stylesheets %}
<style>
    @keyframes slideUp {
        0% {
            opacity: 0;
            transform: translateY(50px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-slide-up {
        animation: slideUp 1s ease forwards;
    }

    .podium-item {
        opacity: 0;
    }
</style>
{% endblock %}

{% block body %}
<section class="relative h-full max-w-full my-[39px] mx-[30px] p-2 bg-gradient-clair-orange border-t-[7px] border-l-[7px] border-r-[15px] border-b-[15px] border-primary rounded-[42px] overflow-hidden">

    {% block header %}
        {% include "header/headerResult.html.twig" %}
    {% endblock %}

    {% block main %}
    <h1 class="relative max-w-full font-changa text-darkprimary text-primary text-[45px] mb-10 sm:text-[4rem] lg:text-[6rem] lg:hidden">
        {{ quiz.name }}
    </h1>

    <!-- PODIUM -->
    {% if topScores is not empty %}
        <article class="flex flex-row mb-10 items-end justify-center">
            {% for score in topScores %}
                {% if loop.index == 2 %}
                    <!-- DEUXIEME PLACE -->
                    <div class="flex flex-col items-center podium-item">
                        <img src="images/Phone - Quiz résultat/Podium/Silver-Medal.png" alt="Médaille d'argent" class="w-[3rem]">
                        <div>
                            <p class="text-black text-xl font-bold ">{{ score.player.username }}</p>
                            <span class="text-graycustom text-[15px] font-semibold">{{ score.score }} points</span>
                        </div>
                        <img src="images/Phone - Quiz résultat/Podium/2.png" alt="Colone 2" class="bottom-0">
                    </div>
                {% elseif loop.index == 1 %}
                    <!-- PREMIERE PLACE -->
                    <div class="flex flex-col items-center podium-item">
                        <img src="images/Phone - Quiz résultat/Podium/Gold-Medal.png" alt="Médaille d'or" class="w-[3rem]">
                        <p class="text-black text-xl font-bold ">{{ score.player.username }}</p>
                        <span class="text-graycustom text-[15px] font-semibold">{{ score.score }} points</span>
                        <img src="images/Phone - Quiz résultat/Podium/1.png" alt="Colone 1" class="bottom-0">
                    </div>
                {% elseif loop.index == 3 %}
                    <!-- TROISEME PLACE -->
                    <div class="flex flex-col items-center podium-item">
                        <img src="images/Phone - Quiz résultat/Podium/Bronze-Medal.png" alt="Médaille de Bronze" class="w-[3rem]">
                        <p class="text-black text-xl font-bold ">{{ score.player.username }}</p>
                        <span class="text-graycustom text-[15px] font-semibold">{{ score.score }} points</span>
                        <img src="images/Phone - Quiz résultat/Podium/3.png" alt="Colone 3">
                    </div>
                {% endif %}
            {% endfor %}
        </article>
    {% endif %}

    <article>
        <h3 class="font-rubik text-darkprimary font-bold text-[2.5rem]">
            Bravo {{ player.username }} !
        </h3>
        <h4 class="font-rubik text-darkprimary font-bold text-2xl">
            Votre score : {{ playerScore }} points
        </h4>
    </article>

    <form action="{{ path('choice_quiz') }}" method="get">
        <button type="submit" class="btn-custom2 btn-custom2:hover btn-custom2:focus transition-transform hover:scale-10 text-[1.5rem]">
            Retour aux choix des quiz
        </button>
    </form>
    {% endblock %}

    {% block footer %}
        {% include "footer/footerResult.html.twig" %}
    {% endblock %}
</section>
{% endblock %}